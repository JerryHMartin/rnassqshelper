% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api_nass.R
\name{nass_api_key}
\alias{nass_api_key}
\title{Set and Retrieve the USDA NASS API Key}
\description{
Lightweight helpers to set, persist, and retrieve the \code{NASS_API_KEY}
used by USDA NASS Quick Stats API via \code{{rnassqs}}. Designed for local,
personal workflows with minimal ceremony, consistent with Occam's razor.
}
\details{
\itemize{
\item \code{set_nass_key()} sets the key for the current session, your process env,
or writes it to \verb{~/.Renviron} (or a custom path). It optionally calls
\code{rnassqs::nassqs_auth()} to authenticate immediately.
\item \code{get_nass_key()} retrieves the key from the session (\code{rnassqs} auth),
environment variables, or by reading \code{.Renviron}.
\item \code{ensure_nass_key()} is a convenience wrapper that tries to get a key
(from session/env/\code{.Renviron}) and, if found, authenticates it. Use this
in vignettes and scripts for a clean, single-line setup.
}

Security note: messages never print the full key; they show a masked preview.
}
\section{Sources checked by \code{get_nass_key()}}{

\enumerate{
\item "session": if \code{{rnassqs}} is installed and has an active key
\item "env": \code{Sys.getenv("NASS_API_KEY")}
\item "renviron": load from \verb{~/.Renviron} (or a custom path) via \code{readRenviron()}
}
}

\examples{
\dontrun{
# Set for the session only (recommended for interactive use)
set_nass_key("abcdef123456", persist = "session")

# Persist to environment (this R process only)
set_nass_key("abcdef123456", persist = "env")

# Persist to ~/.Renviron (survives restarts)
set_nass_key("abcdef123456", persist = "renviron", overwrite = TRUE)

# Retrieve the key from common sources
key <- get_nass_key()

# One-liner for vignettes/scripts
key <- ensure_nass_key(persist = "session")
}
}
\seealso{
\link[rnassqs:nassqs_auth]{rnassqs::nassqs_auth}
}
